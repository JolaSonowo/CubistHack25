{% extends "base.html" %}

{% block title %}Home - Manhattan Congestion Analytics{% endblock %}

{% block content %}
<div class="p-5 mb-4 bg-light rounded-3">
  <div class="container-fluid py-5">
    <h1 class="display-5 fw-bold">Manhattan Congestion Analytics</h1>
    <p class="col-md-8 fs-4">
      Analyze and visualize traffic congestion patterns in Manhattan's Congestion Relief Zone.
    </p>
    
    <!-- Heatmap Section -->
    <div class="ratio ratio-16x9 mb-4">
      <iframe srcDoc="{{ heatmap_html | safe }}" style="border:none; width:100%; height:100%;"></iframe>
    </div>
    
    <!-- AI Tool Section -->
    <div class="p-4 bg-secondary text-white rounded mb-4">
      <h2>AI Tool for Predictions & Q&A</h2>
      <p>Ask a specific question (e.g., "What will tomorrow's congestion be like?")</p>
      <div class="input-group mb-3">
        <input type="text" class="form-control" id="ai-question" placeholder="Ask your question here..." aria-label="AI Question">
        <button class="btn btn-outline-light" type="button" id="ai-submit">Submit</button>
      </div>
      <div id="ai-response"></div>
    </div>
    
    <a href="{{ url_for('main.dashboard') }}" class="btn btn-primary btn-lg mt-4">View Full Dashboard</a>
  </div>
</div>

<div class="row align-items-md-stretch">
  <div class="col-md-6">
    <div class="h-100 p-5 text-white bg-dark rounded-3">
      <h2>Interactive Visualizations</h2>
      <p>Explore congestion patterns with our interactive map and charts. Filter by time, location, and vehicle type.</p>
      <a href="{{ url_for('main.dashboard') }}" class="btn btn-outline-light">Explore Data</a>
    </div>
  </div>
  <div class="col-md-6">
    <div class="h-100 p-5 bg-light border rounded-3">
      <h2>Data-Driven Insights</h2>
      <p>Get automated analysis and recommendations based on traffic patterns. Identify peak congestion times and areas.</p>
      <a href="{{ url_for('main.dashboard') }}#insights" class="btn btn-outline-secondary">View Insights</a>
    </div>
  </div>
</div>
{% endblock %}
